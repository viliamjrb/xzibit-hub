# Gmail-
&lt;!doctype html> &lt; html > &lt; head > &lt; title >Gmail API demo&lt;/ title > &lt; meta charset ="UTF-8 "> &lt; link rel =" stylesheet" href =" / &lt; link rel =" stylesheet" href =" / &lt; style > iframe { width : 100 %; border : 0 ; min-height : 80 %; height : 600 px; display : flex; } &lt;/ style > &lt;/ head > &lt; body > &lt; div class ="container"> &lt; h1>Gmail API demo&lt;/ h1 > &lt; a href =" #compose-modal " dat &lt; button id=" authorize-button &lt; table class ="table table-st &lt; thead > &lt; tr > &lt; th>From&lt;/ th > &lt; th>Subject&lt;/ th > &lt; th>Date/Time&lt;/ th> &lt;/ tr > &lt;/ thead > &lt; tbody >&lt;/ tbody > &lt;/ table > &lt;/ div > &lt; div class ="modal fade " id=" co &lt; div class =" modal-dialog mod &lt; div class ="modal-content " &lt; div class ="modal-header &lt; button type =" button " &lt; span aria-hidden =" t &lt;/ button > &lt; h4 class =" modal-title &lt;/ div > &lt; form onsubmit =" return s &lt; div class =" modal-body &lt; div class =" form-gro &lt; input type ="email &lt;/ div> &lt; div class =" form-gro &lt; input type ="text " &lt;/ div> &lt; div class =" form-gro &lt; textarea class =" f &lt;/ div> &lt;/ div > &lt; div class =" modal-foot &lt; button type ="button &lt; button type ="submit &lt;/ div > &lt;/ form > &lt;/ div > &lt;/ div > &lt;/ div > &lt; div class ="modal fade " id=" re &lt; div class =" modal-dialog mod &lt; div class ="modal-content " &lt; div class ="modal-header &lt; button type =" button " &lt; span aria-hidden =" t &lt;/ button > &lt; h4 class =" modal-title &lt;/ div > &lt; form onsubmit =" return s &lt; input type ="hidden " i &lt; div class =" modal-body &lt; div class =" form-gro &lt; input type ="text " &lt;/ div> &lt; div class =" form-gro &lt; input type ="text " &lt;/ div> &lt; div class =" form-gro &lt; textarea class =" f &lt;/ div> &lt;/ div > &lt; div class =" modal-foot &lt; button type ="button &lt; button type ="submit &lt;/ div > &lt;/ form > &lt;/ div > &lt;/ div > &lt;/ div > &lt; script src =" //code.jquery.com &lt; script src =" //maxcdn.bootstra &lt; script type =" text/javascript " var clientId = 'xxxxxxxxxxxx var apiKey = 'xxxxxxxxxxxxxx var scopes = 'https://www.googleapis.co 'https://www.googleapis.co function handleClientLoad () gapi. client .setApiKey(apiK window. setTimeout(checkAut } function checkAuth() { gapi. auth .authorize({ client_id : clientId, scope : scopes, immediate: true }, handleAuthResult); } function handleAuthClick () { gapi. auth .authorize({ client_id : clientId, scope : scopes, immediate: false }, handleAuthResult); return false ; } function handleAuthResult (au if(authResult &amp;&amp; !authResu loadGmailApi (); $('#authorize-button' ). r $('.table-inbox' ).remove $('#compose-button' ). rem } else { $('#authorize-button' ). r $('#authorize-button' ). o handleAuthClick (); }); } } function loadGmailApi () { gapi. client .load ('gmail' , } function displayInbox () { var request = gapi. client . 'userId' : 'me' , 'labelIds' : 'INBOX' , 'maxResults' : 10 }); request. execute ( function (r $. each (response. messages var messageRequest = g 'userId' : 'me' , 'id' : this. id }); messageRequest. execute }); }); } function appendMessageRow (me $('.table-inbox tbody' ). ap '&lt;tr>\ &lt;td>' +getHeader(messag &lt;td>\ &lt;a href="#message-mo '" data-toggle="mo getHeader(message. '&lt;/a>\ &lt;/td>\ &lt;td>' +getHeader(messag &lt;/tr>' ); var reply_to = ( getHeader( getHeader(message. payloa getHeader(message. payloa var reply_subject = 'Re: ' $('body' ). append ( '&lt;div class="modal fade" '" tabindex="-1" rol &lt;div class="modal-dial &lt;div class="modal-co &lt;div class="modal- &lt;button type="bu class="c data-dis aria-lab &lt;span aria-hid &lt;h4 class="modal getHeader(mess '&lt;/h4>\ &lt;/div>\ &lt;div class="modal- &lt;iframe id="mess &lt;/iframe>\ &lt;/div>\ &lt;div class="modal- &lt;button type="bu &lt;button type="bu onclick="fillInR \'' +reply_to +' \'' +reply_subj \'' +getHeader( );"\ >Reply&lt;/button>\ &lt;/div>\ &lt;/div>\ &lt;/div>\ &lt;/div>' ); $('#message-link-' + message var ifrm = $( '#message-i $('body' , ifrm). html (get }); } function sendEmail() { $('#send-button' ).addClass sendMessage( { 'To' : $( '#compose-to' ) 'Subject' : $('#compose }, $('#compose-message' ).va composeTidy ); return false ; } function composeTidy () { $('#compose-modal' ). modal ( $('#compose-to' ). val ('' ); $('#compose-subject' ).val ( $('#compose-message' ).val ( $('#send-button' ).removeCl } function sendReply() { $('#reply-button' ). addClas sendMessage( { 'To' : $( '#reply-to' ). v 'Subject' : $('#reply-s 'In-Reply-To' : $('#rep }, $('#reply-message' ). val ( replyTidy ); return false ; } function replyTidy() { $('#reply-modal' ).modal ('h $('#reply-message' ). val ('' $('#reply-button' ). removeC } function fillInReply (to, sub { $('#reply-to' ).val (to); $('#reply-subject' ). val (su $('#reply-message-id' ). val } function sendMessage (headers { var email = '' ; for (var header in headers_ email += header += ": " + email += "\r\n" + message; var sendRequest = gapi. cli 'userId' : 'me' , 'resource' : { 'raw' : window. btoa (ema } }); return sendRequest. execute } function getHeader(headers, var header = ''; $. each (headers, function () if(this. name . toLowerCase header = this. value ; } }); return header; } function getBody (message) { var encodedBody = ''; if( typeof message. parts == { encodedBody = message. bo } else { encodedBody = getHTMLPar } encodedBody = encodedBody. return decodeURIComponent( } function getHTMLPart (arr) { for (var x = 0 ; x &lt;= arr. le { if( typeof arr[x]. parts = { if (arr[x]. mimeType === { return arr[x]. body . d } } else { return getHTMLPart (arr } } return '' ; } &lt;/ script > &lt; script src =" https://apis.goog &lt;/ body > &lt;/ html >
